# DB 인덱싱을 하는 이유와 원리

### 인덱스란?

---

먼저 인덱스는 **테이블에 대한 검색 속도를 향상시켜 주는 자료구조**이다. 테이블의 특정 컬럼에 인덱스를 생성하면, 해당 컬럼의 데이터를 정렬한 후 별도의 메모리 공간에 데이터의 물리적 주소와 함께 저장된다. 이 때 인덱스는 컬럼의 값과 물리적 주소를 ( key, value )의 한 쌍으로 저장한다.


### B-Tree

---

자료구조는 크게 선형 자료구조와 비선형 자료구조로 나뉜다. 비선형 자료구조에는 2진트리부터 시작해 B-Tree까지 다양한 종류가 있다. 여기서 자료 검색의 성능을 비약적으로 올릴 수 있는 자료구조가 바로 B-tree이다.


### 인덱싱을 하면 좋은 컬럼

---

인덱스를 효율적으로 사용하기 위해서는 데이터의 범위가 넓고 중복이 적으며, 조회가 많거나 정렬된 상태가 유용한 컬럼에 사용하는 것이 좋다. 특히 사입, 수정, 삭제가 자주 발생하지 않는 컬럼에 사용하는 것이 좋다.

### DB에서의 Kernel

---

데이터베이스에서 데이터는 결국 파일의 형태로 저장되어 있다. 그리고 해당 파일들은 데이터가 저장되는 순서에 따라 정렬이 된다. 따라서 초기 데이터베이스 생성 이후 추가되는 데이터들로 인해 자동으로 그 크기가 증가하게 된다. 이러한 상황에서 인덱스가 필요한 이유는 빠른 검색보다도 모르는 데이터를 판별하기 위함이다. 데이터를 검색할 때 선형 검색이 바보 같은 이유는 모르는 데이터 하나를 판별하기 위해 모든 데이터를 순회해야 한다는 점이다. 하지만 인덱스를 활용하게 되면 비선형 자료구조를 통해 데이터를 검색하기 때문에 모든 자료를 순회하지 않고도 더 빠르게 데이터를 조회할 수 있게 된다.

### Reference

---

* [널널한 개발자 tv](https://www.youtube.com/watch?v=VO9bqmJ0Ns8&list=PLXvgR_grOs1DEoZFABFCjo7dsXt1BhVih&index=4)
* [Rebro의 코딩일기장](https://rebro.kr/167)